!function(t){var e={speed:700,pause:4e3,showItems:1,mousePause:!0,height:0,animate:!0,margin:0,padding:0,startPaused:!1},a={moveUp:function(t,e){a.animate(t,e,"up")},moveDown:function(t,e){a.animate(t,e,"down")},animate:function(e,a,i){var n=e.itemHeight,s=e.options,o=e.element,r=o.children("ul"),d="up"===i?"li:first":"li:last";o.trigger("vticker.beforeTick");var c=r.children(d).clone(!0);if(0<s.height&&(n=r.children("li:first").height()),n+=s.margin+2*s.padding,"down"===i&&r.css("top","-"+n+"px").prepend(c),a&&a.animate){if(e.animating)return;e.animating=!0,r.animate("up"===i?{top:"-="+n+"px"}:{top:0},s.speed,function(){t(r).children(d).remove(),t(r).css("top","0px"),e.animating=!1,o.trigger("vticker.afterTick")})}else r.children(d).remove(),r.css("top","0px"),o.trigger("vticker.afterTick");"up"===i&&c.appendTo(r)},nextUsePause:function(){var e=t(this).data("state"),a=e.options;e.isPaused||2>e.itemCount||i.next.call(this,{animate:a.animate})},startInterval:function(){var e=t(this).data("state"),i=this;e.intervalId=setInterval(function(){a.nextUsePause.call(i)},e.options.pause)},stopInterval:function(){var e=t(this).data("state");e&&(e.intervalId&&clearInterval(e.intervalId),e.intervalId=void 0)},restartInterval:function(){a.stopInterval.call(this),a.startInterval.call(this)}},i={init:function(n){i.stop.call(this);var s=jQuery.extend({},e);n=t.extend(s,n);var s=t(this),o={itemCount:s.children("ul").children("li").length,itemHeight:0,itemMargin:0,element:s,animating:!1,options:n,isPaused:n.startPaused?!0:!1,pausedByCode:!1};t(this).data("state",o),s.css({overflow:"hidden",position:"relative"}).children("ul").css({position:"absolute",margin:0,padding:0}).children("li").css({margin:n.margin,padding:n.padding}),isNaN(n.height)||0===n.height?(s.children("ul").children("li").each(function(){var e=t(this);e.height()>o.itemHeight&&(o.itemHeight=e.height())}),s.children("ul").children("li").each(function(){t(this).height(o.itemHeight)}),s.height((o.itemHeight+(n.margin+2*n.padding))*n.showItems+n.margin)):s.height(n.height);var r=this;n.startPaused||a.startInterval.call(r),n.mousePause&&s.bind("mouseenter",function(){!0!==o.isPaused&&(o.pausedByCode=!0,a.stopInterval.call(r),i.pause.call(r,!0))}).bind("mouseleave",function(){(!0!==o.isPaused||o.pausedByCode)&&(o.pausedByCode=!1,i.pause.call(r,!1),a.startInterval.call(r))})},pause:function(e){var a=t(this).data("state");if(a){if(2>a.itemCount)return!1;a.isPaused=e,a=a.element,e?(t(this).addClass("paused"),a.trigger("vticker.pause")):(t(this).removeClass("paused"),a.trigger("vticker.resume"))}},next:function(e){var i=t(this).data("state");if(i){if(i.animating||2>i.itemCount)return!1;a.restartInterval.call(this),a.moveUp(i,e)}},prev:function(e){var i=t(this).data("state");if(i){if(i.animating||2>i.itemCount)return!1;a.restartInterval.call(this),a.moveDown(i,e)}},stop:function(){t(this).data("state")&&a.stopInterval.call(this)},remove:function(){var e=t(this).data("state");e&&(a.stopInterval.call(this),e=e.element,e.unbind(),e.remove())}};t.fn.vTicker=function(e){return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.vTicker"):i.init.apply(this,arguments)}}(jQuery),jQuery(document).ready(function($){function t(){var t=[],e=o.width();t.push("#dragdrop_container { width:"+e+"px; }"),$(".dragdrop").each(function(){var e=$(this).attr("id"),a="left:"+$(this).css("left")+";top:"+$(this).css("top")+";width:"+$(this).width()+"px;z-index:"+$(this).css("z-index"),i="#"+e+"{"+a+"}";t.push(i),o.attr("data-width",parseInt(o.css("width"))),$(this).attr("data-scaleleft",parseInt($(this).css("left"))).attr("data-scaletop",parseInt($(this).css("top"))).attr("data-scalewidth",$(this).width())}),r=t.toString().replace(/,/g," "),s>780?$("#dragdrop_css").val(r):$("#dragdrop_css_tablet").val(r)}function e(){var t=0;$(".dragdrop").each(function(){var e=$(this).height()+$(this).offset().top;e>t&&(t=e)}),o.height(t)}function a(){if(s>480&&!d){(!o.data("width")||o.data("width").length<1)&&o.attr("data-width",parseInt(o.css("width")));var t=s/o.data("width");s>780?o.addClass("desktop"):o.addClass("tablet"),s>780&&o.hasClass("tablet")?($(".dragdrop").attr("style","").attr("data-scaleleft","").attr("data-scaletop","").attr("data-scalewidth",""),o.attr("style","").data("width",parseInt(o.css("width"))).removeClass("tablet"),t=s/o.data("width")):780>s&&o.hasClass("desktop")&&($(".dragdrop").attr("style","").attr("data-scaleleft","").attr("data-scaletop","").attr("data-scalewidth",""),o.attr("style","").data("width",parseInt(o.css("width"))).removeClass("desktop"),t=s/o.data("width")),o.width(s),o.find(".dragdrop").each(function(){if(!$(this).data("scaleleft")||$(this).attr("data-scaleleft").length<1){var e=parseInt($(this).css("left")),a=parseInt($(this).css("top")),i=$(this).width();$(this).attr("data-scaleleft",e),$(this).attr("data-scaletop",a),$(this).attr("data-scalewidth",i)}var n=$(this).attr("data-scaleleft"),s=$(this).attr("data-scaletop"),o=$(this).attr("data-scalewidth"),r=Math.round(n*t)+"px",d=Math.round(s*t)+"px",c=Math.round(o*t)+"px";$(this).css({width:c,height:"auto",top:d,left:r})}).promise().done(function(){e()})}else e()}function i(){var t=$(document).width(),e=$(document).height(),a=t,i=e,n=document.getElementById("canvasdiv"),s=document.createElement("canvas");s.setAttribute("width",a),s.setAttribute("height",i),s.setAttribute("id","canvas"),n.appendChild(s),"undefined"!=typeof G_vmlCanvasManager&&(s=G_vmlCanvasManager.initElement(s)),c=document.getElementById("canvas").getContext("2d"),c.strokeStyle="#000",c.lineJoin="round",c.lineWidth=5,$("#canvas").drawTouch(),$("#canvas").drawPointer(),$("#canvas").drawMouse()}var n=$(window),s=n.width(),o=$("#dragdrop_container"),r;$(".logged-in .dragdrop").draggable({stack:".dragdrop",stop:function(){t(),e()}});var d=!1;$(".logged-in .dragdrop").each(function(){var a=!1;$(this).hasClass("img")&&(a=!0),$(this).resizable({aspectRatio:a,handles:"se",start:function(){d=!0},stop:function(){t(),e(),d=!1}})}),$(".dragdrop_positioning .submit").mouseover(function(){t()}),a(),n.resize(function(){s=n.width(),a()}),$(".dragdrop_positioning").on("submit",function(t){t.preventDefault();var e=$(this),a=e.serialize();$.ajax({type:"POST",url:sitevars.ajaxurl,data:a,success:function(){if(e.after('<div class="saved">Saved</div>'),$(".saved").delay(1e3).fadeOut(),s>780){var t=$("#dragdrop_css").val();$("#desktopcss").html(t)}else{var a=$("#dragdrop_css_tablet").val();$("#tabletcss").html("@media screen and (max-width: 780px){"+a+"}")}}})}),$(function(){$("#ticker").vTicker()}),$("#hamburger").click(function(){return $("body").toggleClass("nav_open"),!1}),$("a").each(function(){var t=new RegExp("/"+window.location.host+"/");t.test(this.href)||$(this).click(function(t){t.preventDefault(),t.stopPropagation(),window.open(this.href,"_blank")})});var c,h,l;$.fn.drawTouch=function(){var t=function(t){t=t.originalEvent,c.beginPath(),h=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY,c.moveTo(h,l)},e=function(t){t.preventDefault(),t=t.originalEvent,h=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY,c.lineTo(h,l),c.stroke()},a=function(){$("#canvas").css("pointer-events","none")};$(document).on("touchstart",function(){"dragdrop_container"===event.target.id&&($("#canvas").css("pointer-events","auto"),t())}),$(this).on("touchmove",e),$(this).on("touchend",function(){a()})},$.fn.drawPointer=function(){var t=function(t){t=t.originalEvent,c.beginPath(),h=t.pageX,l=t.pageY-44,c.moveTo(h,l)},e=function(t){t.preventDefault(),t=t.originalEvent,h=t.pageX,l=t.pageY-44,c.lineTo(h,l),c.stroke()};$(this).on("MSPointerDown",t),$(this).on("MSPointerMove",e)},$.fn.drawMouse=function(){var t=0,e=function(e){t=1,c.beginPath(),h=e.pageX,l=e.pageY,c.moveTo(h,l)},a=function(e){t&&(h=e.pageX,l=e.pageY,c.lineTo(h,l),c.stroke())},i=function(){t=0,$("#canvas").css("pointer-events","none")};$(document).on("mousedown",function(){"dragdrop_container"===event.target.id&&($("#canvas").css("pointer-events","auto"),e())}),$(this).on("mousemove",a),$(window).on("mouseup",i)};var u=function(){setTimeout(function(){i()},1e3)};$(window).load(u),$(window).load(function(){function t(){var t=document.getElementById("canvas"),e=t.toDataURL();$.ajax({type:"POST",url:"upload.php",data:{imgBase64:e}})}$(".container_wrap").addClass("ready"),$(".save").click(function(){t(),$(".saved").show(),setTimeout(function(){$(".saved").hide()},2e3)})})});